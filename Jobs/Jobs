curl -n -X POST "https://adb-561473554345175.15.azuredatabricks.net/api/2.1/jobs/create" -d '{"name":"Job Atualização","email_notifications":{"on_success":["pedroterracorrea@hotmail.com"],"on_failure":["pedroterracorrea@hotmail.com"],"no_alert_for_skipped_runs":false},"webhook_notifications":{},"notification_settings":{"no_alert_for_skipped_runs":false,"no_alert_for_canceled_runs":false},"timeout_seconds":0,"max_concurrent_runs":1,"tasks":[{"task_key":"Camda_Bronze","run_if":"ALL_SUCCESS","notebook_task":{"notebook_path":"/Workspace/Users/pedroterracorrea@hotmail.com/Desafio-Tecnico-Databricks/Notebooks/Ingestão_Dados_Api_Bronze","source":"WORKSPACE"},"existing_cluster_id":"0225-215304-x54g1vp8","max_retries":3,"min_retry_interval_millis":300000,"retry_on_timeout":false,"timeout_seconds":0,"email_notifications":{},"webhook_notifications":{}},{"task_key":"Rollback_Bronze","depends_on":[{"task_key":"Camda_Bronze"}],"run_if":"ALL_FAILED","notebook_task":{"notebook_path":"/Workspace/Users/pedroterracorrea@hotmail.com/Desafio-Tecnico-Databricks/Rollbacks/Rollback_Bronze","source":"WORKSPACE"},"existing_cluster_id":"0225-215304-x54g1vp8","timeout_seconds":0,"email_notifications":{"on_success":["pedroterracorrea@hotmail.com"],"on_failure":["pedroterracorrea@hotmail.com"]},"notification_settings":{"no_alert_for_skipped_runs":false,"no_alert_for_canceled_runs":false,"alert_on_last_attempt":false},"webhook_notifications":{}},{"task_key":"Camada_Prata","depends_on":[{"task_key":"Camda_Bronze"},{"task_key":"Rollback_Bronze"}],"run_if":"AT_LEAST_ONE_SUCCESS","notebook_task":{"notebook_path":"/Workspace/Users/pedroterracorrea@hotmail.com/Desafio-Tecnico-Databricks/Notebooks/Transformando_dados_Prata","source":"WORKSPACE"},"existing_cluster_id":"0225-215304-x54g1vp8","max_retries":3,"min_retry_interval_millis":300000,"retry_on_timeout":false,"timeout_seconds":0,"email_notifications":{},"webhook_notifications":{}},{"task_key":"Rollback_Prata","depends_on":[{"task_key":"Camada_Prata"}],"run_if":"ALL_FAILED","notebook_task":{"notebook_path":"/Workspace/Users/pedroterracorrea@hotmail.com/Desafio-Tecnico-Databricks/Rollbacks/Rollback_Prata","source":"WORKSPACE"},"existing_cluster_id":"0225-215304-x54g1vp8","timeout_seconds":0,"email_notifications":{"on_success":["pedroterracorrea@hotmail.com"],"on_failure":["pedroterracorrea@hotmail.com"]},"notification_settings":{"no_alert_for_skipped_runs":false,"no_alert_for_canceled_runs":false,"alert_on_last_attempt":false},"webhook_notifications":{}},{"task_key":"Camada_Ouro","depends_on":[{"task_key":"Camada_Prata"},{"task_key":"Rollback_Prata"}],"run_if":"AT_LEAST_ONE_SUCCESS","notebook_task":{"notebook_path":"/Workspace/Users/pedroterracorrea@hotmail.com/Desafio-Tecnico-Databricks/Notebooks/Visão_Agregrada_Ouro","source":"WORKSPACE"},"existing_cluster_id":"0225-215304-x54g1vp8","max_retries":3,"min_retry_interval_millis":300000,"retry_on_timeout":false,"timeout_seconds":0,"email_notifications":{},"webhook_notifications":{}},{"task_key":"Rollback_Ouro","depends_on":[{"task_key":"Camada_Ouro"}],"run_if":"ALL_FAILED","notebook_task":{"notebook_path":"/Workspace/Users/pedroterracorrea@hotmail.com/Desafio-Tecnico-Databricks/Rollbacks/Rollback_Ouro","source":"WORKSPACE"},"existing_cluster_id":"0225-215304-x54g1vp8","timeout_seconds":0,"email_notifications":{"on_success":["pedroterracorrea@hotmail.com"],"on_failure":["pedroterracorrea@hotmail.com"]},"notification_settings":{"no_alert_for_skipped_runs":false,"no_alert_for_canceled_runs":false,"alert_on_last_attempt":false},"webhook_notifications":{}},{"task_key":"Rollback-Sucesso_Camada_Ouro","depends_on":[{"task_key":"Rollback_Ouro"}],"run_if":"ALL_SUCCESS","notebook_task":{"notebook_path":"/Workspace/Users/pedroterracorrea@hotmail.com/Desafio-Tecnico-Databricks/Notebooks/Visão_Agregrada_Ouro","source":"WORKSPACE"},"existing_cluster_id":"0225-215304-x54g1vp8","timeout_seconds":0,"email_notifications":{}}],"queue":{"enabled":true},"run_as":{"user_name":"pedroterracorrea@hotmail.com"}}'